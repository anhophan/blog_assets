<html>
    <head>
        <title>Passkey Login</title>

        <!-- Prevent caching so that during development we can rapidly prototype without having to refresh the page each iteration -->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
    
        <script src = "https://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="/sps/static/jsrsasign-all-min.js"></script>
        <script type="text/javascript" src="/sps/static/fido_infomap_helper.js"></script>
        <script type="text/javascript" src="/sps/static/fido_infomap_login.js" id="fido_login_tags">
            @ESCAPED_FIDO_LOGIN_JSON@
        </script>
    </head>
    <body>
        <h2>WebAuthn Feature Discovery</h2>
        <table border="1">
            <thead>
                <tr><th>Feature</th><th>Value</th></tr>
            </thead>
            <tbody id="webauthn_feature_table_body">
            </tbody>
        </table>
        <!-- autofill div starts hidden and is only shown (dynamically) if autofill is available as a feature -->
        <div id="autofillDiv" style="display:none">
            <h2>Passkey Autofill Login</h2>
            <input type="text" id="passkeyAutofill" name="username" placeholder="Select passkey" autocomplete="username webauthn" />
        </div>
        <h2>Passkey Modal Login</h2>
        <input type="button" id="passkeyLoginButton" value="Login with a passkey" />
        <form name="loginForm" id="loginForm" method="POST" action="@ACTION@">
            <input type="hidden" name="operation" value="verify" />
            <input type="hidden" name="action" value="processAssertionResponse" />
            <input type="hidden" id="assertionResponse" name="assertionResponse" value="" />
        </form>
        <div id="errorDiv" style="display:none">
            <h2>Error</h2>
            <div id="errorDetails"></div>
        </div>
    </body>
</html>